apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: base-nodeport
status:
  readyReplicas: 2
---
apiVersion: v1
kind: Service
metadata:
  name: base-nodeport
spec:
  clusterIP: None
  ports:
    - name: admin
      port: 9644
      protocol: TCP
      targetPort: 9644
    - name: kafka
      port: 9092
      protocol: TCP
      targetPort: 9092
  type: ClusterIP
---
apiVersion: v1
kind: Service
metadata:
  name: base-nodeport-external
spec:
  ports:
  - name: kafka-external
    port: 9093
    protocol: TCP
    targetPort: 9093
    nodePort: 30000
  type: NodePort
---
apiVersion: redpanda.vectorized.io/v1alpha1
kind: Cluster
metadata:
  name: base-nodeport
status:
  replicas: 2
  nodes:
    external:
    - 0.subdomain.com:30000
    - 1.subdomain.com:30000
